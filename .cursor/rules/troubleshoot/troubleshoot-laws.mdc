---
description: Laws enforced during /troubleshoot runs
globs: ".cursor/commands/troubleshoot/**,.cursor/troubleshoot/**"
alwaysApply: false
---

# Troubleshoot Laws ðŸš¨

## Shared references (passive context)
- `@.cursor/rules/shared/workflow-primitives.mdc`
- `@.cursor/rules/shared/proof-discipline.mdc`
- `@.cursor/rules/shared/octocode-mandate.mdc`
- `@.cursor/rules/shared/mcp-s-mandate.mdc`
- `@.cursor/guides/tool-selection.md`
- `@.cursor/guides/request-id-tracing.md`

## Core Laws
- **Evidence-first:** prefer trace/log/request IDs when available; traces provide E2E visibility.
- **Chrome DevTools first:** always try Chrome DevTools first; BrowserMCP is fallback only.
- **Request ID tracing:** if you have `x-wix-request-id`, you MUST run AI Root Cause Analysis first (fallback to Grafana only if RCA is non-informative).
- **No publish before verify:** `/troubleshoot.publish` requires a passing `/troubleshoot.verify`.
- **Proof-first:** every claim needs repo/path + lines + snippet (or NOT FOUND + searches + scope).
- **Connectivity required:** claims must be backed by import/call/route-binding evidence, not naming similarity.
- **Cross-repo resolver:** any non-local symbol MUST be resolved via `/octocode/research` to (def + impl + boundary).
- **Verifiable goals required:** fixes must list objective gates (tests/tsc/lint) before claiming success.

## Output Requirements (troubleshoot artifacts)
- `.cursor/troubleshoot/<topic>/mcp-s-notes.md` MUST exist and include tool queries (even failed attempts).
- Prefer evidence anchors: screenshots, log snippets, request IDs, trace IDs, metric values.
- Ownership must be proven with `code_owners_for_path` for affected code paths.
