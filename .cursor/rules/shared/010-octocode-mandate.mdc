---
description: Force /octocode/research for non-local symbols and generated SDK chains (shared across all kits)
globs:
alwaysApply: false
---

# Octocode Mandate üõ∞Ô∏è (Shared, Non-Negotiable)

## When `/octocode/research` is REQUIRED
Run **`/octocode/research`** as soon as any of these triggers appear:

- **Non-local symbol**: the symbol is imported from a package/repo **not implemented in the current workspace**
- **Not provable locally**: you can‚Äôt show the implementation within **2 local hops**
- **Generated artifacts**: `proto-generated`, `dist`, `*.pb.ts`, generated clients/builders, SDK wrappers
- **Service facades / SDK boundaries**:
  - `documentServices.*`, `viewerServices.*`, `platformServices.*`
  - `@wix/ambassador-*`
  - imports from `.../rpc` or `.../types`
  - `ctx.ambassador.request(...)`
- **SDK generation / platformization signals**:
  - ‚Äúmetro‚Äù, ‚Äúpackage generation‚Äù, ‚Äúfqdn‚Äù, `(.wix.api.entity)`, ‚Äúplatformization‚Äù
- **Testkit/driver reuse signals**:
  - WDS testkit factories/classes you rely on (prove canonical usage)
  - shared BaseDriver/shared driver helpers you plan to reuse

## What Octocode must return (minimum)
For each required symbol, Octocode must produce:
- **Definition**: repo/path + lines + snippet
- **Implementation**: repo/path + lines + snippet
- **Boundary**: a real side-effect snippet (network/persist/render/throw)

## SDK Generation Chain Rule
If `@wix/ambassador-*` (or equivalent generated SDK) appears, you must also Octocode-resolve:
- source IDL (proto/openapi/graphql)
- generator trigger/config (‚Äúpackage generation‚Äù)
- runtime transport implementation (auth/baseUrl/retries + request execution)
- types generation proof

## Logging requirement
Append all Octocode queries + proof snippets to the kit‚Äôs evidence artifact.

Examples (kit-specific; follow the kit you‚Äôre running):
- deep-search: `.cursor/deep-search/<feature>/octocode-queries.md`
- testkit: `MCP-EVIDENCE.md` (or kit-defined evidence file)

## If Octocode is unavailable
- downgrade claims to **NOT FOUND**
- list the exact intended queries + scope that would have been searched

