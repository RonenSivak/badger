---
description: Laws enforced during /testkit runs (BDD + plain-English specs + ALWAYS GREEN gates)
globs:
alwaysApply: false
---

# Testkit Laws ðŸš¨ðŸ§ª

## Shared references (passive context)
- `@.cursor/rules/shared/002-workflow-primitives.mdc`
- `@.cursor/rules/shared/001-proof-discipline.mdc`
- `@.cursor/rules/shared/010-octocode-mandate.mdc`
- `@.cursor/rules/shared/011-mcp-s-mandate.mdc`

## ALWAYS GREEN gates (hard)
- Never implement before Preflight:
  - `/testkit.implement` requires PASS `PREFLIGHT.md`
- Never publish before Verify:
  - `/testkit.publish` requires PASS `VALIDATION-REPORT.md`
- Repair loop is mandatory:
  - if lint/tsc/tests fail â†’ fix â†’ rerun until PASS or explicit NOT RUN blocker

## Determinism (hard)
- installs must be lockfile-based (immutable/ci mode):
  - yarn `--immutable`, pnpm `--frozen-lockfile`, npm `ci`

## Everything else remains:
- specs are plain-English (driver-only)
- no comments
- builders in dedicated folder
- MCP-S + Octocode mandatory for non-local symbols (see shared mandates)
